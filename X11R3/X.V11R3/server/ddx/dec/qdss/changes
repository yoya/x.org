Only in .: .emacs_86
Only in .: .joverc
Only in /a/X/gravity/server/ddx/dec/qdss: MakeOut
diff -c ./Makefile /a/X/gravity/server/ddx/dec/qdss/Makefile
*** ./Makefile	Mon Feb 29 17:24:02 1988
--- /a/X/gravity/server/ddx/dec/qdss/Makefile	Sat Aug 20 11:27:56 1988
***************
*** 1,3
  #
  # Warning: the cpp used on this machine replaces
  # all newlines and multiple tabs/spaces in a macro

--- 1,4 -----
+ 
  #
  #                         WARNING to imake users
  #
***************
*** 1,9
  #
! # Warning: the cpp used on this machine replaces
! # all newlines and multiple tabs/spaces in a macro
! # expansion with a single space.  Imake tries to
! # compensate for this, but is not always
! # successful.
  #
  
  #

--- 1,6 -----
  
  #
! #                         WARNING to imake users
  #
  # This makefile is generated automatically by the imake program.  Do not
  # modify it or you will lose your changes the next time imake is run.  Read
***************
*** 5,11
  # compensate for this, but is not always
  # successful.
  #
! 
  #
  # This makefile is automatically generated by imake... do not modify
  # or you may lose your changes when imake generates makefiles again.

--- 2,12 -----
  #
  #                         WARNING to imake users
  #
! # This makefile is generated automatically by the imake program.  Do not
! # modify it or you will lose your changes the next time imake is run.  Read
! # the INSTALLATION GUIDE and look at the Imake.tmpl and *.macros files in
! # the directory ./util/imake.includes/ if you need to change any of the
! # configuration parameters.
  #
  # You may ignore this message if you are not using imake.
  #
***************
*** 7,15
  #
  
  #
! # This makefile is automatically generated by imake... do not modify
! # or you may lose your changes when imake generates makefiles again.
! # Ignore this message if you are not using imake.
  #
  
              TOP = ./../../../..

--- 8,14 -----
  # the directory ./util/imake.includes/ if you need to change any of the
  # configuration parameters.
  #
! # You may ignore this message if you are not using imake.
  #
  
              TOP = ./../../../..
***************
*** 13,18
  #
  
              TOP = ./../../../..
               AS = as
               CC = cc
              CPP = /lib/cpp

--- 12,18 -----
  #
  
              TOP = ./../../../..
+ BOOTSTRAPCFLAGS =
               AS = as
               CC = cc
              CPP = /lib/cpp
***************
*** 47,53
     INSTAPPFLAGS = -m 0444
  
        USRLIBDIR = $(DESTDIR)/usr/lib
!          BINDIR = $(DESTDIR)/usr/bin/X11
           LIBDIR = $(USRLIBDIR)/X11
       LINTLIBDIR = $(USRLIBDIR)/lint
           INCDIR = $(DESTDIR)/usr/include/X11

--- 47,54 -----
     INSTAPPFLAGS = -m 0444
  
        USRLIBDIR = $(DESTDIR)/usr/lib
!      INSTALLDIR = /usr/bin/X11
!          BINDIR = $(DESTDIR)$(INSTALLDIR)
           LIBDIR = $(USRLIBDIR)/X11
       LINTLIBDIR = $(USRLIBDIR)/lint
           INCDIR = $(DESTDIR)/usr/include/X11
***************
*** 53,59
           INCDIR = $(DESTDIR)/usr/include/X11
          FONTDIR = $(LIBDIR)/fonts
           UWMDIR = $(LIBDIR)/uwm
!          MANDIR = $(DESTDIR)/usr/man/mann
      XAPPLOADDIR = $(LIBDIR)/app-defaults
           ADMDIR = $(DESTDIR)/usr/adm
  

--- 54,63 -----
           INCDIR = $(DESTDIR)/usr/include/X11
          FONTDIR = $(LIBDIR)/fonts
           UWMDIR = $(LIBDIR)/uwm
!          AWMDIR = $(LIBDIR)/awm
!         MANPATH = $(DESTDIR)/usr/man
!          MANDIR = $(MANPATH)/mann
!       LIBMANDIR = $(MANPATH)/man3
      XAPPLOADDIR = $(LIBDIR)/app-defaults
           ADMDIR = $(DESTDIR)/usr/adm
  
***************
*** 86,92
        LINTXTOOL = $(TOOLKITSRC)/llib-lXt.ln
          LINTXAW = $(AWIDGETSRC)/llib-lXaw.ln
         INCLUDES = -I$(TOP)
!       MACROFILE = Sun.macros
        IMAKE_CMD = $(NEWTOP)$(IMAKE) -TImake.tmpl \
  			-I$(NEWTOP)$(IRULESRC) \
  			-s Makefile

--- 90,96 -----
        LINTXTOOL = $(TOOLKITSRC)/llib-lXt.ln
          LINTXAW = $(AWIDGETSRC)/llib-lXaw.ln
         INCLUDES = -I$(TOP)
!       MACROFILE = Vax.macros
        IMAKE_CMD = $(NEWTOP)$(IMAKE) -TImake.tmpl \
  			-I$(NEWTOP)$(IRULESRC) \
  			-s Makefile
***************
*** 150,156
  depend:: $(DEPEND)
  
  depend::
! 	$(DEPEND) -s "# DO NOT DELETE" $(CFLAGS) $(SRCS)
  
  $(DEPEND):
  	@echo "making $(DEPENDSRC)"; \

--- 154,160 -----
  depend:: $(DEPEND)
  
  depend::
! 	$(DEPEND) -s "# DO NOT DELETE" -- $(CFLAGS) -- $(SRCS)
  
  $(DEPEND):
  	@echo "making $(DEPENDSRC)"; \
***************
*** 175,182
  	$(IRULESRC)/Imake.tmpl \
  	$(IRULESRC)/Imake.rules \
  	$(IRULESRC)/$(MACROFILE)
! 	-$(RM) Makefile.bak; $(MV) Makefile Makefile.bak
! 	$(IMAKE_CMD) -DTOPDIR=$(TOP)
  
  $(IMAKE):
  	@echo "making $(IMAKESRC)"; \

--- 179,186 -----
  	$(IRULESRC)/Imake.tmpl \
  	$(IRULESRC)/Imake.rules \
  	$(IRULESRC)/$(MACROFILE)
! 		-$(RM) Makefile.bak; $(MV) Makefile Makefile.bak
! 		$(IMAKE_CMD) -DTOPDIR=$(TOP)
  
  $(IMAKE):
  	@echo "making $(IMAKESRC)"; \
***************
*** 180,186
  
  $(IMAKE):
  	@echo "making $(IMAKESRC)"; \
! 	cd $(IMAKESRC); $(MAKE)
  
  tags::
  	$(TAGS) -w *.[ch]

--- 184,190 -----
  
  $(IMAKE):
  	@echo "making $(IMAKESRC)"; \
! 	cd $(IMAKESRC); $(MAKE) BOOTSTRAPCFLAGS=$(BOOTSTRAPCFLAGS)
  
  tags::
  	$(TAGS) -w *.[ch]
***************
*** 191,193
  
  Makefiles::
  

--- 195,415 -----
  
  Makefiles::
  
+ # DO NOT DELETE
+ 
+ init.o: ./../../../../X11/X.h ./../../../../X11/Xproto.h
+ init.o: ./../../../../X11/Xmd.h ./../../../../X11/Xprotostr.h
+ init.o: ../../../include/servermd.h ../../../include/scrnintstr.h
+ init.o: ../../../include/screenint.h ../../../include/misc.h
+ init.o: ../../../include/os.h ../../../include/region.h
+ init.o: ../../../include/pixmap.h ../../../include/gc.h
+ init.o: ../../../include/colormap.h ../../../include/input.h
+ init.o: ../../../include/cursor.h qd.h ../../../include/pixmapstr.h
+ init.o: ../../../include/regionstr.h ../../../include/miscstruct.h qdprocs.h
+ qdss_io.o: /usr/include/sys/types.h /usr/include/sys/file.h
+ qdss_io.o: /usr/include/sys/time.h /usr/include/errno.h Ultrix2.0inc.h
+ qdss_io.o: /usr/include/sys/devio.h /sys/vaxuba/qduser.h
+ qdss_io.o: /usr/include/vaxuba/qevent.h /sys/vaxuba/qdioctl.h
+ qdss_io.o: /usr/include/sys/ioctl.h /usr/include/sys/ttychars.h
+ qdss_io.o: /usr/include/sys/ttydev.h /usr/include/sys/ttyio.h
+ qdss_io.o: /usr/include/sys/termio.h /usr/include/sys/termios.h
+ qdss_io.o: /usr/include/sys/sgtty.h /sys/vaxuba/qdreg.h ./../../../../X11/X.h
+ qdss_io.o: ./../../../../X11/Xproto.h ./../../../../X11/Xmd.h
+ qdss_io.o: ./../../../../X11/Xprotostr.h ../../../include/scrnintstr.h
+ qdss_io.o: ../../../include/screenint.h ../../../include/misc.h
+ qdss_io.o: ../../../include/os.h ../../../include/region.h
+ qdss_io.o: ../../../include/pixmap.h ../../../include/gc.h
+ qdss_io.o: ../../../include/colormap.h ../../../include/pixmapstr.h
+ qdss_io.o: ../../../include/inputstr.h ../../../include/input.h
+ qdss_io.o: ../../../include/window.h ../../../include/dixstruct.h
+ qdss_io.o: ../../../include/dix.h ../../../include/resource.h
+ qdss_io.o: ../../../include/cursor.h ../../../include/cursorstr.h
+ qdss_io.o: ../../../include/mi.h qd.h ../../../include/regionstr.h
+ qdss_io.o: ../../../include/miscstruct.h qdprocs.h libtl/tl.h
+ qdcolor.o: /usr/include/sys/types.h ./../../../../X11/X.h
+ qdcolor.o: ./../../../../X11/Xproto.h ./../../../../X11/Xmd.h
+ qdcolor.o: ./../../../../X11/Xprotostr.h ../../../include/misc.h
+ qdcolor.o: ../../../include/os.h ../../../include/colormapst.h
+ qdcolor.o: ../../../include/colormap.h ../../../include/screenint.h
+ qdcolor.o: ../../../include/resource.h ../../../include/scrnintstr.h
+ qdcolor.o: ../../../include/region.h ../../../include/pixmap.h
+ qdcolor.o: ../../../include/gc.h /sys/vaxuba/qdioctl.h
+ qdcolor.o: /usr/include/sys/ioctl.h /usr/include/sys/ttychars.h
+ qdcolor.o: /usr/include/sys/ttydev.h /usr/include/sys/ttyio.h
+ qdcolor.o: /usr/include/sys/termio.h /usr/include/sys/termios.h
+ qdcolor.o: /usr/include/sys/sgtty.h /sys/vaxuba/qduser.h
+ qdcolor.o: /usr/include/vaxuba/qevent.h qd.h ../../../include/pixmapstr.h
+ qdcolor.o: ../../../include/regionstr.h ../../../include/miscstruct.h
+ qdcopy.o: ./../../../../X11/X.h ../../../include/windowstr.h
+ qdcopy.o: ../../../include/window.h ../../../include/pixmapstr.h
+ qdcopy.o: ../../../include/pixmap.h ../../../include/screenint.h
+ qdcopy.o: ../../../include/misc.h ../../../include/os.h
+ qdcopy.o: ../../../include/region.h ../../../include/cursor.h
+ qdcopy.o: ../../../include/property.h ../../../include/resource.h
+ qdcopy.o: ../../../include/dix.h ../../../include/gc.h
+ qdcopy.o: ../../../include/miscstruct.h ./../../../../X11/Xprotostr.h
+ qdcopy.o: ./../../../../X11/Xmd.h ../../../include/gcstruct.h
+ qdcopy.o: ../../../include/dixfont.h ../../../include/mi.h qd.h
+ qdcopy.o: ../../../include/regionstr.h
+ qdcursor.o: /usr/include/sys/types.h Ultrix2.0inc.h /usr/include/sys/devio.h
+ qdcursor.o: /usr/include/stdio.h ./../../../../X11/X.h
+ qdcursor.o: ./../../../../X11/Xproto.h ./../../../../X11/Xmd.h
+ qdcursor.o: ./../../../../X11/Xprotostr.h ../../../include/scrnintstr.h
+ qdcursor.o: ../../../include/screenint.h ../../../include/misc.h
+ qdcursor.o: ../../../include/os.h ../../../include/region.h
+ qdcursor.o: ../../../include/pixmap.h ../../../include/gc.h
+ qdcursor.o: ../../../include/colormap.h ../../../include/cursorstr.h
+ qdcursor.o: ../../../include/cursor.h ../../../include/input.h
+ qdcursor.o: /sys/vaxuba/qdreg.h /sys/vaxuba/qdioctl.h
+ qdcursor.o: /usr/include/sys/ioctl.h /usr/include/sys/ttychars.h
+ qdcursor.o: /usr/include/sys/ttydev.h /usr/include/sys/ttyio.h
+ qdcursor.o: /usr/include/sys/termio.h /usr/include/sys/termios.h
+ qdcursor.o: /usr/include/sys/sgtty.h /sys/vaxuba/qevent.h
+ qdcursor.o: /sys/vaxuba/qduser.h /usr/include/vaxuba/qevent.h libtl/tlsg.h
+ qdcursor.o: ../../../include/regionstr.h ../../../include/miscstruct.h
+ qddopixel.o: /usr/include/sys/types.h /usr/include/stdio.h
+ qddopixel.o: ./../../../../X11/X.h ../../../include/windowstr.h
+ qddopixel.o: ../../../include/window.h ../../../include/pixmapstr.h
+ qddopixel.o: ../../../include/pixmap.h ../../../include/screenint.h
+ qddopixel.o: ../../../include/misc.h ../../../include/os.h
+ qddopixel.o: ../../../include/region.h ../../../include/cursor.h
+ qddopixel.o: ../../../include/property.h ../../../include/resource.h
+ qddopixel.o: ../../../include/dix.h ../../../include/gc.h
+ qddopixel.o: ../../../include/miscstruct.h ./../../../../X11/Xprotostr.h
+ qddopixel.o: ./../../../../X11/Xmd.h ../../../include/regionstr.h
+ qddopixel.o: ../../../include/gcstruct.h ../../../include/dixfont.h
+ qddopixel.o: ../../../include/dixstruct.h ./../../../../X11/Xproto.h
+ qddopixel.o: ../../../include/mi.h Ultrix2.0inc.h /usr/include/sys/devio.h
+ qddopixel.o: /sys/vaxuba/qduser.h /usr/include/vaxuba/qevent.h
+ qddopixel.o: /sys/vaxuba/qdioctl.h /usr/include/sys/ioctl.h
+ qddopixel.o: /usr/include/sys/ttychars.h /usr/include/sys/ttydev.h
+ qddopixel.o: /usr/include/sys/ttyio.h /usr/include/sys/termio.h
+ qddopixel.o: /usr/include/sys/termios.h /usr/include/sys/sgtty.h
+ qddopixel.o: /sys/vaxuba/qdreg.h qd.h ../../../include/scrnintstr.h
+ qddopixel.o: ../../../include/colormap.h
+ qdfill.o: ./../../../../X11/X.h ../../../include/misc.h ../../../include/os.h
+ qdfill.o: ../../../include/windowstr.h ../../../include/window.h
+ qdfill.o: ../../../include/pixmapstr.h ../../../include/pixmap.h
+ qdfill.o: ../../../include/screenint.h ../../../include/region.h
+ qdfill.o: ../../../include/cursor.h ../../../include/property.h
+ qdfill.o: ../../../include/resource.h ../../../include/dix.h
+ qdfill.o: ../../../include/gc.h ../../../include/miscstruct.h
+ qdfill.o: ./../../../../X11/Xprotostr.h ./../../../../X11/Xmd.h
+ qdfill.o: ../../../include/gcstruct.h ../../../include/dixfont.h
+ qdfont.o: ./../../../../X11/X.h ./../../../../X11/Xproto.h
+ qdfont.o: ./../../../../X11/Xmd.h ./../../../../X11/Xprotostr.h
+ qdfont.o: ../../../include/scrnintstr.h ../../../include/screenint.h
+ qdfont.o: ../../../include/misc.h ../../../include/os.h
+ qdfont.o: ../../../include/region.h ../../../include/pixmap.h
+ qdfont.o: ../../../include/gc.h ../../../include/colormap.h
+ qdfont.o: ../../../include/gcstruct.h ../../../include/miscstruct.h
+ qdfont.o: ../../../include/dixfont.h ../../../include/fontstruct.h
+ qdfont.o: ../../../include/font.h ../../../include/servermd.h
+ qdfont.o: ../../../include/dixfontstr.h qd.h ../../../include/pixmapstr.h
+ qdfont.o: ../../../include/regionstr.h
+ qdgc.o: ./../../../../X11/X.h ../../../include/gcstruct.h
+ qdgc.o: ../../../include/gc.h ../../../include/miscstruct.h
+ qdgc.o: ../../../include/misc.h ../../../include/os.h
+ qdgc.o: ../../../include/region.h ../../../include/pixmap.h
+ qdgc.o: ../../../include/screenint.h ../../../include/dixfont.h
+ qdgc.o: ../../../include/scrnintstr.h ../../../include/colormap.h
+ qdgc.o: ../../../include/windowstr.h ../../../include/window.h
+ qdgc.o: ../../../include/pixmapstr.h ../../../include/cursor.h
+ qdgc.o: ../../../include/property.h ../../../include/resource.h
+ qdgc.o: ../../../include/dix.h ./../../../../X11/Xprotostr.h
+ qdgc.o: ./../../../../X11/Xmd.h ../../../include/mibstore.h qd.h
+ qdgc.o: ../../../include/regionstr.h qdprocs.h ../../../include/mi.h
+ qdgc.o: qdvalidate.h
+ qdimage.o: ./../../../../X11/X.h ./../../../../X11/Xmd.h
+ qdimage.o: ../../../include/servermd.h ../../../include/misc.h
+ qdimage.o: ../../../include/os.h ../../../include/gcstruct.h
+ qdimage.o: ../../../include/gc.h ../../../include/miscstruct.h
+ qdimage.o: ../../../include/region.h ../../../include/pixmap.h
+ qdimage.o: ../../../include/screenint.h ../../../include/dixfont.h
+ qdimage.o: ../../../include/pixmapstr.h ../../../include/windowstr.h
+ qdimage.o: ../../../include/window.h ../../../include/cursor.h
+ qdimage.o: ../../../include/property.h ../../../include/resource.h
+ qdimage.o: ../../../include/dix.h ./../../../../X11/Xprotostr.h
+ qdimage.o: ../../../include/scrnintstr.h ../../../include/colormap.h qd.h
+ qdimage.o: ../../../include/regionstr.h qdprocs.h
+ qdlines.o: ./../../../../X11/X.h ../../../include/windowstr.h
+ qdlines.o: ../../../include/window.h ../../../include/pixmapstr.h
+ qdlines.o: ../../../include/pixmap.h ../../../include/screenint.h
+ qdlines.o: ../../../include/misc.h ../../../include/os.h
+ qdlines.o: ../../../include/region.h ../../../include/cursor.h
+ qdlines.o: ../../../include/property.h ../../../include/resource.h
+ qdlines.o: ../../../include/dix.h ../../../include/gc.h
+ qdlines.o: ../../../include/miscstruct.h ./../../../../X11/Xprotostr.h
+ qdlines.o: ./../../../../X11/Xmd.h ../../../include/gcstruct.h
+ qdlines.o: ../../../include/dixfont.h qd.h ../../../include/regionstr.h
+ qdmisc.o: ./../../../../X11/X.h ./../../../../X11/Xproto.h
+ qdmisc.o: ./../../../../X11/Xmd.h ./../../../../X11/Xprotostr.h
+ qdmisc.o: ../../../include/miscstruct.h ../../../include/misc.h
+ qdmisc.o: ../../../include/os.h ../../../include/gcstruct.h
+ qdmisc.o: ../../../include/gc.h ../../../include/region.h
+ qdmisc.o: ../../../include/pixmap.h ../../../include/screenint.h
+ qdmisc.o: ../../../include/dixfont.h ../../../include/pixmapstr.h qd.h
+ qdmisc.o: ../../../include/regionstr.h
+ qdpixmap.o: ./../../../../X11/X.h ../../../include/miscstruct.h
+ qdpixmap.o: ../../../include/misc.h ../../../include/os.h
+ qdpixmap.o: ../../../include/pixmapstr.h ../../../include/pixmap.h
+ qdpixmap.o: ../../../include/screenint.h ../../../include/region.h
+ qdpixmap.o: ../../../include/mistruct.h ../../../include/mi.h
+ qdpixmap.o: ../../../include/gc.h ./../../../../X11/Xmd.h
+ qdpixmap.o: ../../../include/servermd.h qd.h ../../../include/regionstr.h
+ qdpushpxl.o: ./../../../../X11/X.h ./../../../../X11/Xmd.h
+ qdpushpxl.o: ../../../include/gcstruct.h ../../../include/gc.h
+ qdpushpxl.o: ../../../include/miscstruct.h ../../../include/misc.h
+ qdpushpxl.o: ../../../include/os.h ../../../include/region.h
+ qdpushpxl.o: ../../../include/pixmap.h ../../../include/screenint.h
+ qdpushpxl.o: ../../../include/dixfont.h ../../../include/scrnintstr.h
+ qdpushpxl.o: ../../../include/colormap.h ../../../include/windowstr.h
+ qdpushpxl.o: ../../../include/window.h ../../../include/pixmapstr.h
+ qdpushpxl.o: ../../../include/cursor.h ../../../include/property.h
+ qdpushpxl.o: ../../../include/resource.h ../../../include/dix.h
+ qdpushpxl.o: ./../../../../X11/Xprotostr.h ../../../include/regionstr.h
+ qdpushpxl.o: ../../mfb/maskbits.h ../../../include/servermd.h qd.h
+ qdregion.o: ../../../include/regionstr.h ../../../include/region.h
+ qdregion.o: ../../../include/miscstruct.h ../../../include/misc.h
+ qdregion.o: ../../../include/os.h
+ qdspans.o: ../../../include/scrnintstr.h ../../../include/screenint.h
+ qdspans.o: ../../../include/misc.h ../../../include/os.h
+ qdspans.o: ../../../include/region.h ../../../include/pixmap.h
+ qdspans.o: ../../../include/gc.h ../../../include/colormap.h
+ qdspans.o: ../../../include/pixmapstr.h /usr/include/sys/types.h
+ qdspans.o: ./../../../../X11/X.h ../../../include/windowstr.h
+ qdspans.o: ../../../include/window.h ../../../include/cursor.h
+ qdspans.o: ../../../include/property.h ../../../include/resource.h
+ qdspans.o: ../../../include/dix.h ../../../include/miscstruct.h
+ qdspans.o: ./../../../../X11/Xprotostr.h ./../../../../X11/Xmd.h
+ qdspans.o: ../../../include/regionstr.h ../../../include/gcstruct.h
+ qdspans.o: ../../../include/dixfont.h ../../../include/dixstruct.h
+ qdspans.o: ./../../../../X11/Xproto.h ../../../include/mi.h Ultrix2.0inc.h
+ qdspans.o: /usr/include/sys/devio.h /sys/vaxuba/qduser.h
+ qdspans.o: /usr/include/vaxuba/qevent.h /sys/vaxuba/qdioctl.h
+ qdspans.o: /usr/include/sys/ioctl.h /usr/include/sys/ttychars.h
+ qdspans.o: /usr/include/sys/ttydev.h /usr/include/sys/ttyio.h
+ qdspans.o: /usr/include/sys/termio.h /usr/include/sys/termios.h
+ qdspans.o: /usr/include/sys/sgtty.h /sys/vaxuba/qdreg.h qd.h qdprocs.h
+ qdtext.o: ./../../../../X11/X.h ./../../../../X11/Xproto.h
+ qdtext.o: ./../../../../X11/Xmd.h ./../../../../X11/Xprotostr.h
+ qdtext.o: ../../../include/gcstruct.h ../../../include/gc.h
+ qdtext.o: ../../../include/miscstruct.h ../../../include/misc.h
+ qdtext.o: ../../../include/os.h ../../../include/region.h
+ qdtext.o: ../../../include/pixmap.h ../../../include/screenint.h
+ qdtext.o: ../../../include/dixfont.h ../../../include/windowstr.h
+ qdtext.o: ../../../include/window.h ../../../include/pixmapstr.h
+ qdtext.o: ../../../include/cursor.h ../../../include/property.h
+ qdtext.o: ../../../include/resource.h ../../../include/dix.h
+ qdwindow.o: ./../../../../X11/X.h ../../../include/windowstr.h
+ qdwindow.o: ../../../include/window.h ../../../include/pixmapstr.h
+ qdwindow.o: ../../../include/pixmap.h ../../../include/screenint.h
+ qdwindow.o: ../../../include/misc.h ../../../include/os.h
+ qdwindow.o: ../../../include/region.h ../../../include/cursor.h
+ qdwindow.o: ../../../include/property.h ../../../include/resource.h
+ qdwindow.o: ../../../include/dix.h ../../../include/gc.h
+ qdwindow.o: ../../../include/miscstruct.h ./../../../../X11/Xprotostr.h
+ qdwindow.o: ./../../../../X11/Xmd.h qd.h ../../../include/regionstr.h
+ qdwindow.o: ../../../include/gcstruct.h ../../../include/dixfont.h
+ qdwindow.o: ../../../include/scrnintstr.h ../../../include/colormap.h
+ qdwindow.o: ../../../include/mi.h
Only in /a/X/gravity/server/ddx/dec/qdss: Makefile.bak
Common subdirectories: ./RCS and /a/X/gravity/server/ddx/dec/qdss/RCS
Only in .: changes
Only in /a/X/gravity/server/ddx/dec/qdss: init.o
Only in /a/X/gravity/server/ddx/dec/qdss: libqdss.a
Common subdirectories: ./libtl and /a/X/gravity/server/ddx/dec/qdss/libtl
Common subdirectories: ./libtl.text.hack and /a/X/gravity/server/ddx/dec/qdss/libtl.text.hack
Only in /a/X/gravity/server/ddx/dec/qdss: qdcolor.o
diff -c ./qdcopy.c /a/X/gravity/server/ddx/dec/qdss/qdcopy.c
*** ./qdcopy.c	Fri Jul 29 11:48:22 1988
--- /a/X/gravity/server/ddx/dec/qdss/qdcopy.c	Fri Aug 19 19:03:08 1988
***************
*** 25,30
  #include "X.h"
  #include "windowstr.h"
  #include "gcstruct.h"
  
  #include "qd.h"
  

--- 25,31 -----
  #include "X.h"
  #include "windowstr.h"
  #include "gcstruct.h"
+ #include "mi.h"
  
  #include "qd.h"
  
***************
*** 31,37
  /* due to validation...							*
   *	if this is called, pDstDrawable is SURELY a DRAWABLE_WINDOW.	*
   */
! void
  qdCopyArea( pSrcDrawable, pDstDrawable,
  				    pGC, srcx, srcy, width, height, dstx, dsty)
      register DrawablePtr pSrcDrawable;

--- 32,38 -----
  /* due to validation...							*
   *	if this is called, pDstDrawable is SURELY a DRAWABLE_WINDOW.	*
   */
! RegionPtr
  qdCopyArea( pSrcDrawable, pDstDrawable,
  				    pGC, srcx, srcy, width, height, dstx, dsty)
      register DrawablePtr pSrcDrawable;
***************
*** 52,58
      {
  	tlspaca( pSrcDrawable, pDstDrawable,
  				pGC, srcx, srcy, width, height, dstx, dsty);
! 	return;	/* note that there are no exposures (?) */
      } else if (pSrcDrawable->type == UNDRAWABLE_WINDOW)
      {
  	miCopyArea( pSrcDrawable, pDstDrawable,

--- 53,59 -----
      {
  	tlspaca( pSrcDrawable, pDstDrawable,
  				pGC, srcx, srcy, width, height, dstx, dsty);
! 	return NULL;	/* note that there are no exposures (?) */
      } else if (pSrcDrawable->type == UNDRAWABLE_WINDOW)
      {
  	return miCopyArea( pSrcDrawable, pDstDrawable,
***************
*** 55,61
  	return;	/* note that there are no exposures (?) */
      } else if (pSrcDrawable->type == UNDRAWABLE_WINDOW)
      {
! 	miCopyArea( pSrcDrawable, pDstDrawable,
  				pGC, srcx, srcy, width, height, dstx, dsty);
  	return;	/* note that miCopyArea handles exposures */
      }

--- 56,62 -----
  	return NULL;	/* note that there are no exposures (?) */
      } else if (pSrcDrawable->type == UNDRAWABLE_WINDOW)
      {
! 	return miCopyArea( pSrcDrawable, pDstDrawable,
  				pGC, srcx, srcy, width, height, dstx, dsty);
      }
  
***************
*** 57,63
      {
  	miCopyArea( pSrcDrawable, pDstDrawable,
  				pGC, srcx, srcy, width, height, dstx, dsty);
- 	return;	/* note that miCopyArea handles exposures */
      }
  
      /* src->type must be a DRAWABLE_WINDOW: */

--- 58,63 -----
      {
  	return miCopyArea( pSrcDrawable, pDstDrawable,
  				pGC, srcx, srcy, width, height, dstx, dsty);
      }
  
      /* src->type must be a DRAWABLE_WINDOW: */
***************
*** 91,97
      /*
       * miHandleExposures wants window-relative coordinates
       */
!     if ( pGC->graphicsExposures)
! 	miHandleExposures( pSrcDrawable, pDstDrawable,
  				pGC, srcx, srcy, width, height, dstx, dsty, 0);
  }

--- 91,96 -----
      /*
       * miHandleExposures wants window-relative coordinates
       */
!     return miHandleExposures( pSrcDrawable, pDstDrawable,
  				pGC, srcx, srcy, width, height, dstx, dsty, 0);
  }
Only in /a/X/gravity/server/ddx/dec/qdss: qdcopy.o
Only in /a/X/gravity/server/ddx/dec/qdss: qdcursor.o
Only in /a/X/gravity/server/ddx/dec/qdss: qddopixel.o
Only in /a/X/gravity/server/ddx/dec/qdss: qdfill.o
Only in /a/X/gravity/server/ddx/dec/qdss: qdfont.o
diff -c ./qdgc.c /a/X/gravity/server/ddx/dec/qdss/qdgc.c
*** ./qdgc.c	Fri Jul 29 11:50:56 1988
--- /a/X/gravity/server/ddx/dec/qdss/qdgc.c	Sat Aug 20 11:11:58 1988
***************
*** 50,57
  extern void miPolyFillRect();
  extern void miPolyFillArc();
  
! extern void miCopyArea();
! extern void miCopyPlane();
  extern void miPolyPoint();
  extern void miPutImage();
  

--- 50,57 -----
  extern void miPolyFillRect();
  extern void miPolyFillArc();
  
! extern RegionPtr miCopyArea();
! extern RegionPtr miCopyPlane();
  extern void miPolyPoint();
  extern void miPutImage();
  
Only in /a/X/gravity/server/ddx/dec/qdss: qdgc.o
Only in /a/X/gravity/server/ddx/dec/qdss: qdimage.o
Only in /a/X/gravity/server/ddx/dec/qdss: qdlines.o
Only in /a/X/gravity/server/ddx/dec/qdss: qdmisc.o
Only in /a/X/gravity/server/ddx/dec/qdss: qdpixmap.o
Only in /a/X/gravity/server/ddx/dec/qdss: qdpushpxl.o
Only in /a/X/gravity/server/ddx/dec/qdss: qdregion.o
Only in /a/X/gravity/server/ddx/dec/qdss: qdspans.o
diff -c ./qdss_io.c /a/X/gravity/server/ddx/dec/qdss/qdss_io.c
*** ./qdss_io.c	Sun Aug 21 09:45:53 1988
--- /a/X/gravity/server/ddx/dec/qdss/qdss_io.c	Fri Aug 19 19:03:07 1988
***************
*** 331,336
      pScr->RegionNotEmpty = miRegionNotEmpty;
      pScr->RegionEmpty = miRegionEmpty;
      pScr->RegionExtents = miRegionExtents;
      pScr->BlockHandler = qdBlockHandler;
      pScr->WakeupHandler = NoopDDA;
  

--- 331,338 -----
      pScr->RegionNotEmpty = miRegionNotEmpty;
      pScr->RegionEmpty = miRegionEmpty;
      pScr->RegionExtents = miRegionExtents;
+     pScr->SendGraphicsExpose = miSendGraphicsExpose;
+ 
      pScr->BlockHandler = qdBlockHandler;
      pScr->WakeupHandler = NoopDDA;
  
***************
*** 868,892
   */
  void
  AbortDDX()
- {
- }
- 
- /* Called by GiveUp(). */
- void
- ddxGiveUp()
- {
- }
- 
- int
- ddxProcessArgument (argc, argv, i)
-     int	argc;
-     char *argv[];
-     int	i;
- {
-     return 0;
- }
- 
- void
- ddxUseMsg()
  {
  }

--- 870,874 -----
   */
  void
  AbortDDX()
  {
  }
Only in /a/X/gravity/server/ddx/dec/qdss: qdss_io.o
Only in /a/X/gravity/server/ddx/dec/qdss: qdtext.o
diff -c ./qdwindow.c /a/X/gravity/server/ddx/dec/qdss/qdwindow.c
*** ./qdwindow.c	Fri Jul 29 11:53:33 1988
--- /a/X/gravity/server/ddx/dec/qdss/qdwindow.c	Mon Aug 22 18:57:20 1988
***************
*** 115,124
      WindowPtr pwinRoot;
      ScreenPtr pScreen;
      int               dx, dy;
!  
!     dx = ptOldOrg.x - pWin->absCorner.x;
!     dy = ptOldOrg.y - pWin->absCorner.y;
!     (* pWin->drawable.pScreen->TranslateRegion)(prgnSrc, -dx, -dy);
      pScreen = pWin->drawable.pScreen;
      pwinRoot = &WindowTable[pScreen->myNum];
  

--- 115,128 -----
      WindowPtr pwinRoot;
      ScreenPtr pScreen;
      int               dx, dy;
!     BoxRec	box;    
!     RegionPtr	clientClip;
!     int		n;
!     int		x, y, w, h;
!     int		sx, sy;
! 
!     dx = pWin->absCorner.x - ptOldOrg.x;
!     dy = pWin->absCorner.y - ptOldOrg.y;
      pScreen = pWin->drawable.pScreen;
      pwinRoot = &WindowTable[pScreen->myNum];
  
***************
*** 122,127
      pScreen = pWin->drawable.pScreen;
      pwinRoot = &WindowTable[pScreen->myNum];
  
      pcopyGC = GetScratchGC( Nplanes, pScreen);
      cgc.alu = GXcopy;
      cgc.subWindowMode = IncludeInferiors;

--- 126,133 -----
      pScreen = pWin->drawable.pScreen;
      pwinRoot = &WindowTable[pScreen->myNum];
  
+     (*pScreen->TranslateRegion) (prgnSrc, dx, dy);
+ 
      pcopyGC = GetScratchGC( Nplanes, pScreen);
      cgc.subWindowMode = IncludeInferiors;
      /*
***************
*** 123,129
      pwinRoot = &WindowTable[pScreen->myNum];
  
      pcopyGC = GetScratchGC( Nplanes, pScreen);
-     cgc.alu = GXcopy;
      cgc.subWindowMode = IncludeInferiors;
      cgc.stateChanges = GCFunction|GCSubwindowMode;
      QDChangeGCHelper( pcopyGC, &cgc);

--- 129,134 -----
      (*pScreen->TranslateRegion) (prgnSrc, dx, dy);
  
      pcopyGC = GetScratchGC( Nplanes, pScreen);
      cgc.subWindowMode = IncludeInferiors;
      /*
       * clip result to the requested area
***************
*** 125,132
      pcopyGC = GetScratchGC( Nplanes, pScreen);
      cgc.alu = GXcopy;
      cgc.subWindowMode = IncludeInferiors;
-     cgc.stateChanges = GCFunction|GCSubwindowMode;
-     QDChangeGCHelper( pcopyGC, &cgc);
      /*
       * assume planemask and client clip are reasonable
       */

--- 130,135 -----
  
      pcopyGC = GetScratchGC( Nplanes, pScreen);
      cgc.subWindowMode = IncludeInferiors;
      /*
       * clip result to the requested area
       */
***************
*** 128,134
      cgc.stateChanges = GCFunction|GCSubwindowMode;
      QDChangeGCHelper( pcopyGC, &cgc);
      /*
!      * assume planemask and client clip are reasonable
       */
      ValidateGC( pWin, pcopyGC);
      qdCopyArea(

--- 131,137 -----
      pcopyGC = GetScratchGC( Nplanes, pScreen);
      cgc.subWindowMode = IncludeInferiors;
      /*
!      * clip result to the requested area
       */
      cgc.clipOrg.x = -pWin->absCorner.x;
      cgc.clipOrg.y = -pWin->absCorner.y;
***************
*** 130,135
      /*
       * assume planemask and client clip are reasonable
       */
      ValidateGC( pWin, pcopyGC);
      qdCopyArea(
  		pwinRoot, pwinRoot, pcopyGC,

--- 133,150 -----
      /*
       * clip result to the requested area
       */
+     cgc.clipOrg.x = -pWin->absCorner.x;
+     cgc.clipOrg.y = -pWin->absCorner.y;
+ 
+     cgc.stateChanges = GCSubwindowMode|GCClipXOrigin|GCClipYOrigin;
+ 
+     QDChangeGCHelper( pcopyGC, &cgc);
+ 
+     clientClip = (*pScreen->RegionCreate) (NULL, 1);
+     (*pScreen->Intersect) (clientClip, pWin->parent->winSize, prgnSrc);
+     box = * (*pScreen->RegionExtents) (clientClip);
+     (*pcopyGC->ChangeClip) ( pcopyGC, CT_REGION, (pointer) clientClip, 0);
+ 
      ValidateGC( pWin, pcopyGC);
  
      x = box.x1;
***************
*** 131,142
       * assume planemask and client clip are reasonable
       */
      ValidateGC( pWin, pcopyGC);
-     qdCopyArea(
- 		pwinRoot, pwinRoot, pcopyGC,
-                 ptOldOrg.x, ptOldOrg.y,
- 		pWin->clientWinSize.width + (pWin->borderWidth<<1),
- 		pWin->clientWinSize.height + (pWin->borderWidth<<1),
- 		pWin->absCorner.x, pWin->absCorner.y);
  
      FreeScratchGC( pcopyGC);
  }

--- 146,151 -----
      (*pcopyGC->ChangeClip) ( pcopyGC, CT_REGION, (pointer) clientClip, 0);
  
      ValidateGC( pWin, pcopyGC);
  
      x = box.x1;
      y = box.y1;
***************
*** 138,143
  		pWin->clientWinSize.height + (pWin->borderWidth<<1),
  		pWin->absCorner.x, pWin->absCorner.y);
  
      FreeScratchGC( pcopyGC);
  }
  

--- 147,160 -----
  
      ValidateGC( pWin, pcopyGC);
  
+     x = box.x1;
+     y = box.y1;
+     w = box.x2 - box.x1;
+     h = box.y2 - box.y1;
+     sx = x - dx;
+     sy = y - dy;
+ 
+     qdCopyArea(pwinRoot, pwinRoot, pcopyGC, sx, sy, w, h, x, y);
      FreeScratchGC( pcopyGC);
  }
  
Only in /a/X/gravity/server/ddx/dec/qdss: qdwindow.o
